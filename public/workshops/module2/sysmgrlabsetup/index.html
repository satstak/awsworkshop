<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.74.3" />
    <meta name="description" content="AWS Cloud Security Virtual Event">
<meta name="author" content="Sumit Patel">

    <link rel="shortcut icon" href="https://a0.awsstatic.com/libra-css/images/site/fav/favicon.ico" type="image/ico" />
<link rel="icon" href="https://a0.awsstatic.com/libra-css/images/site/fav/favicon.ico" type="image/ico" />

    <title>1. AWS Systems Manager Lab Setup :: AWS Cloud Security Virtual Event</title>

    
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">
    <link href="/css/featherlight.min.css" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="/css/auto-complete.css" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css" rel="stylesheet">
    <link href="/css/theme.css" rel="stylesheet">
    <link href="/css/hugo-theme.css" rel="stylesheet">
    
    <link href="/css/theme-workshops.css" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/workshops/module2/sysmgrlabsetup/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <div>
  <a href="/" title="Go home">
      <img style="vertical-align:middle" src="/images/logo.png" height="70px" />
  </a>
</div>

    </div>
    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    
    
    <li data-nav-id="/agenda/" title="Overview" class="dd-item
    
        
        ">
      <a href="/agenda/">
          Overview
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/workshops/" title="基調講演" class="dd-item
    parent
        
        ">
      <a href="/workshops/">
          基調講演
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/workshops/module0/" title="Lab Setup" class="dd-item
    
        
        ">
      <a href="/workshops/module0/">
          Lab Setup
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/workshops/module1/" title="Lab 1: Eliminate Bastion Hosts with Systems Manager" class="dd-item
    
        
        ">
      <a href="/workshops/module1/">
          Lab 1: Eliminate Bastion Hosts with Systems Manager
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/scenario/" title="1. Overview and Setup" class="dd-item ">
        <a href="/workshops/module1/scenario/">
        1. Overview and Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/evaluate/" title="2. Evaluate Session Manager Configuration" class="dd-item ">
        <a href="/workshops/module1/evaluate/">
        2. Evaluate Session Manager Configuration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/configure/" title="3. Configure Systems Manager Session Manager" class="dd-item ">
        <a href="/workshops/module1/configure/">
        3. Configure Systems Manager Session Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/portforward/" title="4. Use Port Forwarding For Web Redirection" class="dd-item ">
        <a href="/workshops/module1/portforward/">
        4. Use Port Forwarding For Web Redirection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/ssh/" title="5. Enable SSH Through Session Manager" class="dd-item ">
        <a href="/workshops/module1/ssh/">
        5. Enable SSH Through Session Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module1/rdp/" title="6. Enable RDP Through Session Manager" class="dd-item ">
        <a href="/workshops/module1/rdp/">
        6. Enable RDP Through Session Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/workshops/module2/" title="Lab 2: Security through Good Governance" class="dd-item
    parent
        
        ">
      <a href="/workshops/module2/">
          Lab 2: Security through Good Governance
          
            
              <i class="fas fa-caret-down"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/sysmgrlabsetup/" title="1. AWS Systems Manager Lab Setup" class="dd-item active">
        <a href="/workshops/module2/sysmgrlabsetup/">
        1. AWS Systems Manager Lab Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/systemsmanager/" title="2. AWS Systems Manager: Operations as Code" class="dd-item ">
        <a href="/workshops/module2/systemsmanager/">
        2. AWS Systems Manager: Operations as Code
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/inventory/" title="3. AWS Systems Manager: Inventory" class="dd-item ">
        <a href="/workshops/module2/inventory/">
        3. AWS Systems Manager: Inventory
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/statemgr/" title="4. AWS Systems Manager: State Manager" class="dd-item ">
        <a href="/workshops/module2/statemgr/">
        4. AWS Systems Manager: State Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/patch/" title="5. AWS Systems Manager: Patch Manager" class="dd-item ">
        <a href="/workshops/module2/patch/">
        5. AWS Systems Manager: Patch Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/configlabsetup/" title="6. AWS Config Lab Setup" class="dd-item ">
        <a href="/workshops/module2/configlabsetup/">
        6. AWS Config Lab Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module2/config/" title="7. AWS Config: Compliance as Code" class="dd-item ">
        <a href="/workshops/module2/config/">
        7. AWS Config: Compliance as Code
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/workshops/module3/" title="Lab 3: Protecting Workloads from the Instance to the Edge" class="dd-item
    
        
        ">
      <a href="/workshops/module3/">
          Lab 3: Protecting Workloads from the Instance to the Edge
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/scenario/" title="1. Scenario" class="dd-item ">
        <a href="/workshops/module3/scenario/">
        1. Scenario
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/perimeter-assess/" title="2. Perimeter Layer - Assess" class="dd-item ">
        <a href="/workshops/module3/perimeter-assess/">
        2. Perimeter Layer - Assess
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/perimeter-remediate/" title="3. Perimeter Layer - Remediate" class="dd-item ">
        <a href="/workshops/module3/perimeter-remediate/">
        3. Perimeter Layer - Remediate
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/perimeter-verify/" title="4. Perimeter Layer - Verify" class="dd-item ">
        <a href="/workshops/module3/perimeter-verify/">
        4. Perimeter Layer - Verify
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/host-assess/" title="5. Host Layer - Assess" class="dd-item ">
        <a href="/workshops/module3/host-assess/">
        5. Host Layer - Assess
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/host-remediate/" title="6. Host Layer - Remediate" class="dd-item ">
        <a href="/workshops/module3/host-remediate/">
        6. Host Layer - Remediate
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module3/host-verify/" title="7. Host Layer - Verify" class="dd-item ">
        <a href="/workshops/module3/host-verify/">
        7. Host Layer - Verify
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/workshops/module4/" title="Lab 4: AWS Secrets Manager with Amazon RDS and AWS Fargate" class="dd-item
    
        
        ">
      <a href="/workshops/module4/">
          Lab 4: AWS Secrets Manager with Amazon RDS and AWS Fargate
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/workshops/module4/scenario/" title="1. Architecture" class="dd-item ">
        <a href="/workshops/module4/scenario/">
        1. Architecture
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module4/rds/" title="2. RDS with Secrets Manager" class="dd-item ">
        <a href="/workshops/module4/rds/">
        2. RDS with Secrets Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/workshops/module4/fargate/" title="3. Fargate with Secrets Manager" class="dd-item ">
        <a href="/workshops/module4/fargate/">
        3. Fargate with Secrets Manager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/" title="録画されたセッション" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/">
          録画されたセッション
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/advanced_container_security/" title="Advanced container security" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/advanced_container_security/">
          Advanced container security
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/cloud_security_multi_account/" title="Cloud security for everyone: Multi-account strategy" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/cloud_security_multi_account/">
          Cloud security for everyone: Multi-account strategy
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/cloud-enabled_security_origin/" title="Cloud-enabled security evolution with Origin Energy" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/cloud-enabled_security_origin/">
          Cloud-enabled security evolution with Origin Energy
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/federated_access_made_simple/" title="Federated access and authorisation made simple" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/federated_access_made_simple/">
          Federated access and authorisation made simple
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/secure_real-time_tracking_afl/" title="How AFL secures real-time player tracking with encryption" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/secure_real-time_tracking_afl/">
          How AFL secures real-time player tracking with encryption
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/secops_in_your_organization/" title="How to put SecOps to work in your organisation" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/secops_in_your_organization/">
          How to put SecOps to work in your organisation
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/neoband_in_th_cloud_xinja/" title="How Xinja built a neobank on the cloud" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/neoband_in_th_cloud_xinja/">
          How Xinja built a neobank on the cloud
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/iam-best-practices/" title="IAM: Best practices for managing identity with AWS" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/iam-best-practices/">
          IAM: Best practices for managing identity with AWS
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/intro-to-aws-sec/" title="Introduction to AWS Security" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/intro-to-aws-sec/">
          Introduction to AWS Security
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/sec-best-practices-war-way/" title="Security best practices: The Well-Architected way" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/sec-best-practices-war-way/">
          Security best practices: The Well-Architected way
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/ondemandtracks/security_fundamentals/" title="The fundamentals of AWS Security" class="dd-item
    
        
        ">
      <a href="/ondemandtracks/security_fundamentals/">
          The fundamentals of AWS Security
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/training/" title="学習用リソース" class="dd-item
    
        
        ">
      <a href="/training/">
          学習用リソース
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/links/" title="リンク" class="dd-item
    
        
        ">
      <a href="/links/">
          リンク
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/survey/" title="アンケート" class="dd-item
    
        
        ">
      <a href="/survey/">
          アンケート
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/faq/" title="FAQ" class="dd-item
    
        
        ">
      <a href="/faq/">
          FAQ
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>

    <h5 class="copyright">&copy; 2020 Amazon Web Services, Inc. or its Affiliates. All rights reserved.<h5>

</left>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>AWS Security Roadshow Japan 2020</a> > <a href='/workshops/'>基調講演</a> > <a href='/workshops/module2/'>Lab 2: Security through Good Governance</a> > 1. AWS Systems Manager Lab Setup
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#lab-setup">Lab Setup</a>
      <ul>
        <li><a href="#create-an-ec2-key-pair">Create an EC2 Key Pair</a></li>
        <li><a href="#setting-up-systems-manager">Setting up Systems Manager</a></li>
        <li><a href="#to-deploy-the-lab-infrastructure">To deploy the lab infrastructure:</a></li>
        <li><a href="#check-deployed-instances">Check Deployed Instances</a></li>
        <li><a href="#stuck-watch-this"><em>Stuck? Watch this</em></a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              1. AWS Systems Manager Lab Setup
            </h1>
          

        


<h2 id="lab-setup">Lab Setup</h2>
<p>In this part of the lab you will set up the necessary resources in your environment to proceed with the Systems Manager labs.</p>
<h3 id="create-an-ec2-key-pair">Create an EC2 Key Pair</h3>
<ol>
<li>
<p>Use your administrator account to access the Amazon EC2 console at <a href="https://console.aws.amazon.com/ec2/">https://console.aws.amazon.com/ec2/</a>.</p>

<div class="notices note" ><p>In 2019 the EC2 console was updated to have a consistent look and feel with other AWS Services, and to improve the user experience.
This lab guide shows the new and improved console experience. You can enable and disable this new look based on your preferences.</p>
</div>

</li>
</ol>
<p><img src="/images/lab_1c_EC2NewConsole.png" alt=""></p>
<ol start="2">
<li>In the left-hand menu look for the <strong>Network &amp; Security</strong> section, and click on <strong>Key Pairs</strong>. Now click on the <strong>Create Key Pair</strong> button at the top right of the console.</li>
</ol>
<p><img src="/images/lab_1c_KeyPairLink.png" alt=""></p>
<ol start="3">
<li>In the <strong>Create Key Pair</strong> dialog box, type a <strong>Key pair name</strong> such as <code>SSMLabKeys</code>, leave the file format setting on the default of <strong>pem</strong> and then click on <strong>Create key pair</strong>.</li>
</ol>
<p><img src="/images/lab_1c_KeyPairCreate.png" alt=""></p>
<ol start="4">
<li><strong>Save the</strong> <code>SSMLabKeys.pem</code> <strong>file</strong> to your local machine.
<strong>Note:</strong> You will not need the keys for this lab, they are only required for the CloudFormation Stack to deploy successfully (below, in the section: <em>To deploy the lab infrastructure</em>).</li>
</ol>
<h4 id="key-concept-management-tools---aws-systems-manager-images_index_ssm_logopng"><em>KEY CONCEPT:</em> Management Tools - AWS Systems Manager <img src="/images/_index_SSM_logo.png" alt=""></h4>
<p><a href="https://aws.amazon.com/systems-manager/features/">AWS Systems Manager</a> is a collection of features that enable IT Operations, some of which we will explore throughout this lab.<br>
There are <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-setting-up.html">set up tasks</a> and <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-prereqs.html">prerequisites</a> that must be satisfied prior to using Systems Manager to manage your EC2 instances or on-premises systems in <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-managedinstances.html">hybrid environments</a>.</p>
<ul>
<li>Verify that your instances run a supported operating system.</li>
<li>For EC2 instances, create an IAM instance profile and attach it to your machines.</li>
<li>For on-premises servers and VMs, create an IAM service role for a hybrid environment.</li>
<li>Verify that you are allowing HTTPS (port 443) outbound traffic to the Systems Manager endpoints.</li>
<li>(Recommended) Create a VPC endpoint in Amazon Virtual Private Cloud to use with Systems Manager.</li>
<li>On on-premises servers, VMs, and EC2 instances created from AMIs that are not supplied by AWS, install a Transport Layer Security (TLS) certificate.</li>
<li>For on-premises servers and VMs, register the machines with Systems Manager through the managed instance activation process.</li>
<li>Install or verify installation of SSM Agent on each of your managed instances.</li>
</ul>
<p>SSM Agent is installed by default on (base Amazon-managed AMIs):</p>
<ul>
<li>Windows Server 2008-2012 R2 AMIs published in November 2016 or later</li>
<li>Windows Server 2016 and 2019</li>
<li>Amazon Linux</li>
<li>Amazon Linux 2</li>
<li>Ubuntu Server 16.04</li>
<li>Ubuntu Server 18.04</li>
<li>Amazon ECS-Optimized</li>
</ul>
<h3 id="setting-up-systems-manager">Setting up Systems Manager</h3>
<hr>
<ol>
<li>Use your account to access the <a href="https://console.aws.amazon.com/systems-manager/">Systems Manager</a> console.</li>
<li>Choose <strong>Managed Instances</strong> from the navigation menu on the left. If you have satisfied the prerequisites for Systems Manager, you will arrive at the <strong>AWS Systems Manager Managed Instances</strong> page.
<ul>
<li>As a user with AdministratorAccess permissions, you already have <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-access-user.html">User Access to Systems Manager</a>.</li>
<li>The Amazon Linux AMIs used to create the instances for this lab are dated 2017.09. They are <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/patch-manager-supported-oses.html">supported operating systems</a> and have the <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/ssm-agent.html">SSM Agent</a> installed by default.</li>
</ul>
</li>
</ol>
<p>AWS Systems Manager now offers a <em>Quick Setup</em> method to simplify configuring your instances to be managed.</p>
<ul>
<li>
<p>Click on the <a href="https://console.aws.amazon.com/systems-manager/quick-setup">Quick Setup</a> link at the top of the navigation menu on the left.</p>
</li>
<li>
<p>Review the <strong>Permissions (Required)</strong> section. Note that there is a default role, and you can also specify your own role for more granular permissions.</p>
</li>
<li>
<p>Keep the selections <strong>Instance Profile role</strong> and <strong>Assume role for Systems Manager</strong> on the <strong>Use the default role</strong> selections.</p>
</li>
<li>
<p>Review the <strong>Quick Setup options</strong> section</p>
<ul>
<li>
<p>Ensure that the <strong>Update Systems Manager (SSM) Agent every two weeks</strong> option is checked. Leave all other options unchecked.</p>
<p><img src="/images/lab_3a_quick-setup-options.png" alt=""></p>
</li>
</ul>
</li>
<li>
<p>In the <strong>Targets</strong> section, define targets for systems manager setup:</p>
<ul>
<li>Under <strong>Target selection method</strong>, select <strong>Choose all instances in the current AWS account and region</strong></li>
</ul>
</li>
<li>
<p>Select the <strong>Enable</strong> button.</p>
</li>
</ul>
<p><img src="/images/lab_3a_quick-setup-button.png" alt=""></p>
<h3 id="to-deploy-the-lab-infrastructure">To deploy the lab infrastructure:</h3>
<ol>
<li>Deploy the infrastructure with CloudFormation -
<a href="https://console.aws.amazon.com/cloudformation/home#/stacks/new?region=ap-southeast-2&amp;stackName=SSMPatchLabStack1&amp;templateURL=https://patesumi-webcontent.s3-ap-southeast-2.amazonaws.com/module2/SSMLabStack.yml">Click here To Deploy Lab into your Account</a>
<img src="/images/lab_2a_CFCreate-Stack.png" alt=""></li>
<li>On the <strong>Create Stack</strong> page, leave all settings on their defaults and click on <strong>Next</strong>.</li>
<li>In the <strong>Specify stack details</strong> section, accept the predefined stack name <code>SSMPatchLabStack1</code>.</li>
<li>In the <strong>Parameters</strong> section:
<ul>
<li>Specify the <strong>InstanceProfile</strong> as <code>AmazonSSMRoleForInstancesQuickSetup</code>. <strong>MAKE SURE TO ENTER THIS EXACTLY AS WRITTEN OR THE STACK WILL NOT DEPLOY!</strong></li>
<li>Leave <strong>InstanceTypeApp</strong> and <strong>InstanceTypeWeb</strong> as the default free-tier-eligible t2.micro value.</li>
<li>Select the EC2 <strong>KeyName</strong> you defined earlier from the list (<strong>SSMLabKeys</strong>).
<ul>
<li>Enter the loop-back IP address <code>127.0.0.1/32</code> in <strong>SourceLocation</strong>.</li>
</ul>
</li>
<li>Define the <strong>Workload Name</strong> as <code>Prod</code>.</li>
<li>Click on <strong>Next</strong>.
<img src="/images/lab_2a_stack-details.png" alt=""></li>
</ul>
</li>
<li>On the <strong>Configure stack options</strong> page under <strong>Tags</strong>, type <strong>Owner</strong> in the <strong>Key</strong> field, and enter your name in the <strong>Value</strong> field.</li>
<li>Leave all other sections unmodified. Scroll to the bottom of the page and click on <strong>Next</strong>.
<img src="/images/lab_2a_stack-options.png" alt=""></li>
<li>On the <strong>Review</strong> page, review your choices and then scroll down and click on <strong>Create stack</strong>.
<img src="/images/lab_2a_stack-review.png" alt="">
<img src="/images/lab_2a_create-stack.png" alt=""></li>
<li>On the CloudFormation console page your stack deployment will now begin.</li>
<li>Choose the <strong>Events</strong> tab for your selected workload to see the activity log from the creation of your CloudFormation stack.  Deployment will take about five minutes.
<img src="/images/lab_2a_events-tab.png" alt=""></li>
</ol>
<h3 id="check-deployed-instances">Check Deployed Instances</h3>
<p>When the <strong>Status</strong> of your stack displays <code>CREATE_COMPLETE</code> in the filter list, you will have created a representation of a typical &lsquo;lift and shift&rsquo; 2-tier application migrated to the cloud.
<img src="/images/lab_2b_create_complete.png" alt=""></p>
<ol>
<li>Navigate to the <a href="https://console.aws.amazon.com/ec2/">EC2 console</a> to view the deployed systems. Click on <strong>Instances</strong> in the left-hand menu. The four instances created for this lab will be prefixed with &lsquo;Prod-&rsquo; in the <strong>Name</strong> column.</li>
</ol>
<hr>
<h3 id="stuck-watch-this"><em>Stuck? Watch this</em></h3>

<div class="notices note" ><p><em>This video has no audio</em></p>
</div>



<video width="696" height="392" controls>
  <source src="https://d1tqhetmq9f85b.cloudfront.net/downloads/lab2.1.mp4" type="video/mp4">
  Your browser doesn't support video.
</video>




<footer class="footline">
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/workshops/module2/" title="Lab 2: Security through Good Governance"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/workshops/module2/systemsmanager/" title="2. AWS Systems Manager: Operations as Code" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/perfect-scrollbar.min.js"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="/js/jquery.sticky.js"></script>
    <script src="/js/featherlight.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js"></script>
    <script src="/js/learn.js"></script>
    <script src="/js/hugo-learn.js"></script>

    <link href="/mermaid/mermaid.css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

